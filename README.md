# Packet Capture Nyan Cat Game 🐱🌈

リアルタイムパケットキャプチャーを使用してゲームマップを生成するNyan Catゲームです！

## 特徴

- **リアルタイムパケット解析**: ネットワークトラフィックをリアルタイムで取得・解析
- **動的障害物生成**: パケットの種類・サイズ・送信元IPに基づいて障害物を生成
- **プロトコル別表示**: TCP、UDP、ICMPなど異なるプロトコルを色分けして表示
- **WebSocketリアルタイム通信**: パケット情報をブラウザにリアルタイム配信

## 必要な環境

- Python 3.7+
- 管理者権限（パケットキャプチャのため）
- モダンブラウザ（WebSocketサポート必須）

## セットアップ

1. **依存関係のインストール**
   ```bash
   pip3 install -r requirements.txt
   ```

2. **パケットキャプチャーサーバーの起動**
   ```bash
   sudo python3 packet_capture.py
   ```

3. **ゲームの開始**
   - ブラウザで `index.html` を開く
   - 「パケットキャプチャ開始」ボタンをクリック
   - SPACEキーでゲーム開始

## 遊び方

1. **パケットキャプチャ開始**: ボタンをクリックしてネットワークパケットの取得を開始
2. **ゲーム開始**: SPACEキーでゲーム開始
3. **ジャンプ**: SPACEキーでNyan Catをジャンプさせて障害物を回避
4. **スコア**: できるだけ長く生き残って高得点を目指す

## 障害物の種類

- 🔴 **TCP** (赤): TCP通信パケット
- 🔵 **UDP** (青): UDP通信パケット  
- 🟢 **ICMP** (緑): ICMP通信パケット
- ⚫ **その他** (グレー): その他のプロトコル

## 技術仕様

### バックエンド (Python)
- **Scapy**: パケットキャプチャ・解析
- **WebSockets**: リアルタイム通信
- **Threading**: 非同期パケット処理

### フロントエンド (JavaScript)
- **HTML5 Canvas**: ゲーム描画
- **WebSocket API**: サーバーとの通信
- **Game Loop**: 60FPS ゲームループ

## ファイル構成

```
pcap-nyan/
├── packet_capture.py    # パケットキャプチャ・WebSocketサーバー
├── game.js             # ゲームロジック
├── index.html          # ゲーム画面
├── style.css           # スタイル
├── requirements.txt    # Python依存関係
└── README.md          # このファイル
```

## セキュリティ注意事項

⚠️ **注意**: このツールは教育・研究目的で作成されています。
- 自分のネットワークでのみ使用してください
- 他人のネットワークでの無断使用は法的問題となる可能性があります
- キャプチャしたパケット情報は適切に管理してください

## トラブルシューティング

### 権限エラー
```bash
# macOS/Linux
sudo python3 packet_capture.py

# 特定のインターファースを指定
sudo python3 packet_capture.py --interface en0
```

### WebSocket接続エラー
- ファイアウォール設定を確認
- ポート8765が使用可能か確認
- ローカルホスト以外からの接続時は適切な設定が必要

### パケットが検出されない
- ネットワークインターフェースの確認
- 管理者権限で実行されているか確認
- ネットワークトラフィックが発生しているか確認

## 拡張アイデア

- マルチプレイヤー対応
- パケット情報の詳細表示
- 異なるゲームモード
- パケット統計情報の可視化
- カスタムフィルター設定

---

楽しいゲーム体験をお楽しみください！ 🎮✨